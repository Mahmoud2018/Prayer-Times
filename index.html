<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Prayer Times</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body>
      <div class="container" style="height: 100vh;">
        <div class="row">
            <div class="col-6">
              <h1 style="font-size: 100px;" >Time prayer</h1>
            </div>
            <div class="col-6">
              <h1 id="cityname" style="font-size: 100px;" >Vaxjo</h1>
            </div>
          </div>
          <div class="col-12 mb-2 mt-2">
            <h2 id="Date" ></h2>
          </div>
          <hr>
          <div  class="col-12">

            <div class="row align-items-center">

              <div class="col">
                <div class="card p-3 mb-2 shadow" >
                  <div class="card-body ">
                    <h1 class="card-title">Fajr</h1>
                    <h2 id="Fajr" class="card-title"></h2>
                  </div>
                </div>
              </div>

              <div class="col">
                <div class="card p-3 mb-2 shadow" >
                  <div class="card-body ">
                    <h1 class="card-title">Sunrise</h1>
                    <h2 id="Sunrise" class="card-title"></h2>
                  </div>
                </div>
              </div>

              <div class="col">
                <div class="card p-3 mb-2 shadow" >
                  <div class="card-body ">
                    <h1 class="card-title">Dhuhr</h1>
                    <h2 id="Dhuhr" class="card-title"></h2>
                  </div>
                </div>
              </div>

              <div class="col">
                <div class="card p-3 mb-2 shadow" >
                  <div class="card-body ">
                    <h1 class="card-title">Asr</h1>
                    <h2 id="Asr" class="card-title"></h2>
                  </div>
                </div>
              </div>

              <div class="col">
                <div class="card p-3 mb-2 shadow" >
                  <div class="card-body ">
                    <h1 class="card-title">Maghrib</h1>
                    <h2 id="Maghrib" class="card-title"></h2>
                  </div>
                </div>
              </div>

              <div class="col">
                <div class="card p-3 mb-2 shadow" >
                  <div class="card-body ">
                    <h1 class="card-title">Isha</h1>
                    <h2 id="Isha" class="card-title"></h2>
                  </div>
                </div>
              </div>


            </div>

          </div>
          <div  class="col-2 mt-4" style="margin-left: 41%;" >
            <select id="cities"  style="border-radius: 30px;" class="form-select form-select-sm " aria-label=".form-select-sm example">
       
         
            </select>
          </div>
        </div>
      </div>
    
    <script>

let cities = [
    {
      "name": "Vaxjo",
    },
    {
      "name": "Tingsryd",
    },
    {
      "name": "Almhult",
    },

    ]

  for ( let city of cities ) {

    let content = 
    `<option>${city.name}</option>`
    document.getElementById('cities').innerHTML += content
    
  }

  document.getElementById('cities').addEventListener('change', function() {

    let cityName = this.value
    document.getElementById('cityname').innerHTML = cityName
    GetPrayersTimesOfCity(cityName);
    
  console.log(typeof cityName)
});


function GetPrayersTimesOfCity(cityname) {
  
    let params = {
    country: "SE",
    city: cityname,
    }

  axios.get('http://api.aladhan.com/v1/timingsByCity', {
    params: params
  })
  .then(function (response) {

    const DateData = response.data.data.date.gregorian.date
    const weekday = response.data.data.date.gregorian.weekday.en
      document.getElementById('Date').innerHTML = weekday + ' ' + DateData

    const timings = response.data.data.timings
    FillTimePrayer("Fajr", timings.Fajr)
    FillTimePrayer("Sunrise", timings.Sunrise)
    FillTimePrayer("Dhuhr", timings.Dhuhr)
    FillTimePrayer("Asr", timings.Asr)
    FillTimePrayer("Maghrib", timings.Maghrib)
    FillTimePrayer("Isha", timings.Isha)

    // console.log(response.data.data.timings); 
  })
  .catch(function (error) {
    console.log(error);
  });
}


function FillTimePrayer(id, time) {
  document.getElementById(id).innerHTML = time;
}

GetPrayersTimesOfCity("Vaxjo")


// getPost by Axios 
// function getPostbyAxios(userId) {

//     axios.get("https://jsonplaceholder.typicode.com/posts?userId="+userId)
//     .then(response => {
//       let posts = response.data
//       document.getElementById("content").innerHTML = "";
//           for (post of posts) {
//             document.getElementById("content").innerHTML += 
//             `<h5 class="card-title">${post.title}</h5> <p class="card-text">${post.body}</p> <hr> `
//           };
//       })
//       .catch(error => {
//        alert(error.message)
//       })
  
// }

// function getUsersbyAxios() {
// return new Promise((resolve , reject) => {
// axios.get("https://jsonplaceholder.typicode.com/users")
//   .then(response => {
//     let users = response.data
//     document.getElementById("users").innerHTML = "";
//         for (user of users) {
//           document.getElementById("users").innerHTML += 
//           `<button onclick="getID(${user.id}, this)" id="users" type="button" 
//           class="list-group-item list-group-item-action">
//           ${user.username}<p>${user.email}</p></button> `
//         };
//         resolve();
//     })
//     .catch(error => {
//       alert(error.message)
//       reject()
//     })

//   });
// }

// function getID(id ,el){
//   getPostbyAxios(id);
//     let Active = document.getElementsByClassName("active");
//     for (Active of Active) {Active.classList.remove("active");}
//     el.classList.add("active")
// }


// getUsersbyAxios()
// .then(() => {
//   getPostbyAxios(1)
//   }).catch(error => {
//         alert(error.message)
//   })




    </script>
  
    <script src="./node_modules/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  </body>
</html>